<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- portfolio 관련 sql문 -->
<mapper namespace="portfolio"> 

	<insert id="insertPortfolio"><!-- 글 생성 -->
		INSERT INTO portfolio 
		VALUES (#{uname},portfolio_SEQ.nextval,#{pfname},
				to_date(sysdate,'yyyy.mm.dd hh24:mi'),#{pfthumb},
				0,#{pfurl},#{pffile},#{pfposition},#{tagname})
	</insert>
	
	<select id = "allPortfolio" resultType="PortfolioVO"> <!-- 모든 게시글 출력 -->
		SELECT uname, pfnum, pfname, pfdate, pfthumb, pfread, pfurl, pffile, pfposition, tagname
				FROM portfolio
	</select>
	
	<select id = "onePortfolio" resultType="PortfolioVO"> <!-- 게시글 클릭시 출력 -->
		SELECT uname, pfnum, pfname, pfdate, pfthumb, pfread, pfurl, pffile, pfposition, tagname
				FROM portfolio WHERE pfnum = #{pfnum}
	</select>
	
	<update id="updatePf"><!-- 게시글 수정 -->
		UPDATE portfolio SET pfname=#{pfname},pffile=#{pffile},pfurl=#{pfurl}, pfposition=#{pfposition}, tagname=#{tagname}  
			WHERE pfnum=#{pfnum}
	</update> 
	
	<delete id="deletePf">
		DELETE FROM portfolio WHERE pfnum=#{pfnum}
	</delete>




</mapper>
